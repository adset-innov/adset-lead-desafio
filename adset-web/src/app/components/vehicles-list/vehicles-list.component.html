<!-- Barra de ordenação -->
<div class="flex items-center bg-gray-200 px-2 py-2">
  <div class="flex items-center gap-2">
    <!-- Ordenações -->
    <button class="flex items-center gap-1 px-2" (click)="sortBy('marca')">
      Marca / Modelo
      <div class="flex flex-col leading-none ml-1">
        <span [class.text-green-600]="isActive('marca','asc')" class="text-xs text-gray-500">▲</span>
        <span [class.text-green-600]="isActive('marca','desc')" class="text-xs text-gray-500">▼</span>
      </div>
    </button>

    <button class="flex items-center gap-1 px-2 border-l border-gray-400" (click)="sortBy('ano')">
      Ano
      <div class="flex flex-col leading-none ml-1">
        <span [class.text-green-600]="isActive('ano','asc')" class="text-xs text-gray-500">▲</span>
        <span [class.text-green-600]="isActive('ano','desc')" class="text-xs text-gray-500">▼</span>
      </div>
    </button>

    <button class="flex items-center gap-1 px-2 border-l border-gray-400" (click)="sortBy('preco')">
      Preço
      <div class="flex flex-col leading-none ml-1">
        <span [class.text-green-600]="isActive('preco','asc')" class="text-xs text-gray-500">▲</span>
        <span [class.text-green-600]="isActive('preco','desc')" class="text-xs text-gray-500">▼</span>
      </div>
    </button>

    <button class="flex items-center gap-1 px-2 border-l border-gray-400" (click)="sortBy('fotos')">
      Fotos
      <div class="flex flex-col leading-none ml-1">
        <span [class.text-green-600]="isActive('fotos','asc')" class="text-xs text-gray-500">▲</span>
        <span [class.text-green-600]="isActive('fotos','desc')" class="text-xs text-gray-500">▼</span>
      </div>
    </button>
  </div>

  <div class="flex items-center border rounded-full bg-white overflow-hidden ml-6">
    <span class="px-2 text-sm">Exibir</span>
    <span class="font-bold px-1">100</span>
    <button class="bg-green-600 text-white px-2">▼</button>
  </div>
</div>


<div *ngFor="let v of vehicles" class="flex border-b py-4 bg-white">
  <div class="flex items-start px-2">
    <button class="text-red-600 mr-2">
      <img src="assets/remove-icon.png" />
    </button>
    <img [src]="'assets/car-icon.png'" alt="Foto" class="w-48 h-32 object-cover" />
  </div>

  <div class="ml-4 flex-1 flex justify-between items-start">
    <div>
      <h2 class="font-bold text-lg">{{ v.make }} {{ v.model }} | {{ v.year }}</h2>
      <p>Placa - <span class="text-green-600">{{ v.plate }}</span></p>
      <p *ngIf="v.km">Km - <span class="text-green-600">{{ v.km | number }}</span></p>
      <p>Cor - <span class="text-green-600">{{ v.color }}</span></p>
    </div>

<div class="flex flex-col items-end justify-end pr-4 w-56">
  <div class="flex items-center gap-4 mb-2">
    <button
      class="relative group flex items-center justify-center w-9 h-9 rounded-md bg-blue-600 shadow-sm"
      (click)="openNewForm()"
      aria-label="Editar Veículo"
      title="Editar Veículo"
      type="button"
    >
      <img src="assets/editar-car-icon.png" alt="" class="w-5 h-5"/>

      <span
        role="tooltip"
        class="pointer-events-none absolute -top-10 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-3 py-1 rounded text-xs bg-gray-800 text-white shadow opacity-0 group-hover:opacity-100 transition-opacity duration-150 z-50"
      >
        Editar Veículo
      </span>

      <div
        class="pointer-events-none absolute -top-3 left-1/2 transform -translate-x-1/2 rotate-45 w-3 h-3 bg-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-150 z-50"
        aria-hidden="true"
      ></div>
    </button>

    <!-- Fotos -->
    <button class="flex items-center gap-1 text-sm text-gray-700 hover:text-green-600" type="button">
      <img src="assets/photo-icon.png" alt="" class="w-5 h-5"/>
      <span class="font-bold text-green-600">08</span>
    </button>

    <!-- Opcionais -->
    <button class="flex items-center gap-1 text-sm text-gray-700 hover:text-green-600" type="button">
      <img src="assets/car-options.png" alt="" class="w-5 h-5"/>
      <span class="text-green-600">Opcionais</span>
    </button>
  </div>

  <p class="text-green-600 font-bold text-lg">
    R$ {{ v.price | number:'1.2-2' }}
  </p>
</div>

  <!-- Coluna 3: Cards iCarros e WebMotors -->
  <div class="flex gap-4 ml-6">
    <!-- iCarros -->
    <div class="w-40 bg-white shadow rounded flex flex-col items-center">
      <div class="bg-gray-800 text-white font-bold w-full text-center py-1 rounded-t">
        iCarros
      </div>
      <div class="flex flex-col items-center p-2">
        <img src="assets/icarros-icon.png" class="w-10 h-10 rounded-full mb-2" />
        <div class="flex gap-2 mb-2">
          <button class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center">
            <i class="fas fa-download"></i>
          </button>
          <button class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <label class="flex items-center text-sm">
          <input type="checkbox" class="mr-1" /> Diamante Feirão
        </label>
        <span class="text-green-600 text-xs">010 - 008</span>
      </div>
    </div>

    <!-- WebMotors -->
    <div class="w-40 bg-white shadow rounded flex flex-col items-center">
      <div class="bg-gray-800 text-white font-bold w-full text-center py-1 rounded-t">
        WebMotors
      </div>
      <div class="flex flex-col items-center p-2">
        <img src="assets/webmotors-icon.png" class="w-10 h-10 rounded-full mb-2" />
        <div class="flex gap-2 mb-2">
          <button class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center">
            <i class="fas fa-download"></i>
          </button>
          <button class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <label class="flex items-center text-sm">
          <input type="checkbox" checked class="mr-1" /> Básico
        </label>
        <span class="text-red-600 text-xs">030 - 025</span>
      </div>
    </div>
  </div>
</div>
